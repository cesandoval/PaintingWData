doctype html
html
  head
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-118514810-1"></script>
    script.
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-118514810-1');

    meta(charset="utf-8")
    meta(http-equiv="X-UA-Compatible", content="IE=edge")
    title= 'Painting with Data'

    //indicate that our site is mobile optimized
    meta(name='viewport', content='width=device-width, initial-scale=1.0')

    meta(name="description", content="")
    meta(name="author", content="")
    link(rel="icon", href="/images/pwd_logo.png")
    link(rel='stylesheet', href='/stylesheets/w3.css')
    style
      body { margin:0; padding:0; }
      .map { position:absolute; top:0; bottom:0; width:100%; }

    link(rel='apple-touch-icon', sizes='180x180', href='/apple-touch-icon.png')
    link(rel='icon', type='image/png', sizes='32x32', href='/favicon-32x32.png')
    link(rel='icon', type='image/png', sizes='16x16', href='/favicon-16x16.png')
    link(rel='manifest', href='/manifest.json')
    link(rel='mask-icon', href='/safari-pinned-tab.svg', color='#5bbad5')
    meta(name='theme-color', content='#ffffff')

    //- //add bootstrap dependencies from CDNjs. Using a CDN to distribute these files puts less pressure
    //- //on our web server and will be delivered faster to the client than our own server.
    //- script(src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js')		

    
    script(src='/javascripts/js/jquery-1.9.1.js')
    script(src="/javascripts/js/jquery-ui.js")
    script(type='text/javascript', src="/javascripts/js/tether.min.js")
    link(href='/stylesheets/mapbox.css', rel='stylesheet')

    link(rel='stylesheet', href='/stylesheets/bootstrap-theme.min.css')
    link(rel='stylesheet', href='/stylesheets/font-awesome.min.css')
    //- //reference our site-specific css
    link(rel='stylesheet', href='/stylesheets/bootstrap.min.css')
    link(rel='stylesheet', href='/stylesheets/style.css')
    link(rel='stylesheet', href='/stylesheets/vprog.css')
    link(rel='stylesheet', href='/stylesheets/awesome-bootstrap-checkbox.css')
    link(rel='stylesheet', href='/stylesheets/build.css')
    link(rel='stylesheet', href='/stylesheets/login.css')

    //- // Mapbox Libraries
    script(src='/javascripts/js/mapbox.js')

    //- // D3 libs
    script(type='text/javascript', src="/javascripts/js/d3.js")
    
    //- // Parallel Coords UI libs
    script(type='text/javascript', src="/javascripts/js/d3.parcoords.js")
    link(rel="stylesheet", type="text/css", href="/stylesheets/d3.parcoords.css")
    
    //- // THREEjs libs
    script(type='text/javascript', src="/javascripts/js/three.js")
    script(type='text/javascript', src="/javascripts/js/THREEx.KeyboardState.js")
    //- script(type='text/javascript', src="/javascripts/js/THREEx.FullScreen.js")
    script(type='text/javascript', src="/javascripts/js/THREEx.WindowResize.js")


    // PaintingWithData CSS
    link(rel='stylesheet', href='/stylesheets/base.css')

    // Bootstrap JS libs
    script(type='text/javascript', src="/javascripts/js/bootstrap.min.js")    

  body
    block navBar
      include ./partials/navbar

    block pageTitle
    block content

    div.footer
      div.row.home_icon_row
        div.home_icon_wrapper
            a(href='https://twitter.com/PaintingWData', target='_blank')
                img.icon_link_img.mybtn.home_icon(src='/images/twitter.png')
        div.home_icon_wrapper
            a(href='https://www.facebook.com/PaintingWData/', target='_blank')
                img.icon_link_img.mybtn.home_icon(src='/images/facebook.png')
        div.home_icon_wrapper
            a(href='https://www.linkedin.com/company/27180309/', target='_blank')
                img.icon_link_img.mybtn.home_icon(src='/images/linkedin.png')
      div.contact-div.
        Have a quick question? Email our Support Team at support@paintingwithdata.com
      div.terms-bar
        span.terms(id="show-policy")
            b privacy policy &nbsp;&nbsp;|&nbsp;&nbsp;
        span.terms(id="show-terms")
            b terms and conditions


      p &copy; Painting with Data 2018. 
        span.
            Patent Pending.

script.
  $('.dropdown').on('show.bs.dropdown', function() {
    $(this).find('.dropdown-menu').first().stop(true, true).slideDown();
  });

  $('.dropdown').on('hide.bs.dropdown', function() {
    $(this).find('.dropdown-menu').first().stop(true, true).slideUp();
  });

  jQuery('ul.nav li.dropdown').hover(function() {
    jQuery(this).find('.dropdown-menu').first().stop(true, true).slideDown();
    }, function() {
      jQuery(this).find('.dropdown-menu').first().stop(true, true).slideUp();
      });

   $(document).ready(function() {
    var height = $(".navbar").height();
    //- $(".dropdown-menu").top(height);
  });

script.
  d3.selectAll(".tm_wrapper .icon_over").on("mouseover", function () {
    d3.select(this).style("opacity", 0.6);
  }).on("mouseout", function () {
    d3.select(this).style("opacity", 0);
  });

  $("#explore").click(() => {
    $('html, body').animate({
        scrollTop: $("#explore_section").offset().top-80
    }, 2000);
  });
  $("#about").click(() => {
    $('html, body').animate({
        scrollTop: $("#about_section").offset().top-80
    }, 2000);
  });
  $("#team").click(() => {
    $('html, body').animate({
        scrollTop: $("#team_section").offset().top-80
    }, 2000);
  });



  $(".pop_team").click(function () {

      d3.select("body").append("div")
          .attr("class", "pop_team_box_back").style("top", $(document).scrollTop() + "px")
          ;

      var thisholder = d3.select("body").append("div")
          .attr("class", "pop_team_box").style("top", $(document).scrollTop() + window.innerHeight * 0.2 + "px");

      thisholder
          .append("img").attr("src", "images/thex.png").attr("class", "close_expanded");

      var left_panel = thisholder.append("div").attr("class","col-md-5 box_column");
      var right_panel = thisholder.append("div").attr("class","col-md-7 box_column left_mark");

      left_panel.append("img").attr("class","member_box_img").attr("src",$(this).attr("img_url"));
      left_panel.append("p").attr("class","member_box_title").text($(this).attr("name"));
      left_panel.append("p").attr("class","member_box_email").text($(this).attr("email"));

      var r1_1_0 = left_panel.append("div").attr("class", "icon_links_box");

      if ($(this).attr("home_url")) {
          r1_1_0.append("div")
              .attr("class", "icon_25")
              .attr("style", "padding:0px;")
              .html('<a href="' + $(this).attr("home_url") + '" target="_blank"><img src="images/homepage.png" class="icon_link_img mybtn"></a>');
      }

      else {
          r1_1_0.append("div")
              .attr("class", "icon_25")
              .attr("style", "padding:0px;")
              .html('<img src="images/homepage.png" class="icon_link_img mybtn">');
      }

      if ($(this).attr("twitter_url")) {
          r1_1_0.append("div")
              .attr("class", "icon_25")
              .attr("style", "padding:0px;")
              .html('<a href="' + $(this).attr("twitter_url") + '" target="_blank"><img src="images/twitter.png" class="icon_link_img mybtn"></a>');
      }
      else {
          r1_1_0.append("div")
              .attr("class", "icon_25")
              .attr("style", "padding:0px;")
              .html('<img src="images/twitter.png" class="icon_link_img mybtn">');
      }

      if ($(this).attr("linkedin_url")) {
          r1_1_0.append("div")
              .attr("class", "icon_25")
              .attr("style", "padding:0px;")
              .html('<a href="' + $(this).attr("linkedin_url") + '" target="_blank"><img src="images/linkedin.png" class="icon_link_img mybtn"></a>');
      } else {
          r1_1_0.append("div")
              .attr("class", "icon_25")
              .attr("style", "padding:0px;")
              .html('<img src="images/linkedin.png" class="icon_link_img mybtn">');
      }

      if ($(this).attr("github_url")) {
          r1_1_0.append("div")
              .attr("class", "icon_25")
              .attr("style", "padding:0px;")
              .html('<a href="' + $(this).attr("github_url") + '" target="_blank"><img src="images/github.png" class="icon_link_img mybtn"></a>');
      } else {
          r1_1_0.append("div")
              .attr("class", "icon_25")
              .attr("style", "padding:0px;")
              .html('<img src="images/github.png" class="icon_link_img mybtn">');
      }

      right_panel.append("p").attr("class","member_box_bio").text($(this).attr("bio1"));
      if($(this).attr("bio2")){
          right_panel.append("p").attr("class","member_box_bio").text($(this).attr("bio2"));
      }
      if($(this).attr("bio3")){
          right_panel.append("p").attr("class","member_box_bio").text($(this).attr("bio3"));
      }

      $(".pop_team_box .close_expanded").click(function () {
          d3.selectAll(".pop_team_box").remove();
          d3.selectAll(".pop_team_box_back").remove();
      });

      $(".pop_team_box_back").click(function () {
          d3.selectAll(".pop_team_box").remove();
          d3.selectAll(".pop_team_box_back").remove();
      });

  });

      $( window).scroll(function() {
          d3.selectAll(".pop_team_box").remove();
          d3.selectAll(".pop_team_box_back").remove();
      });


script(src="/javascripts/progressWidget.js", type="text/javascript")


script.

    d3.selectAll("#show-terms").on("click",function(){
        d3.select(".surveyBack").remove();
        d3.select(".surveyBox").remove();

        let surveyBack = d3.select("body").append("div").classed("surveyBack",true).on("click",function(){
            d3.select(".surveyBack").remove();
            d3.select(".surveyBox").remove();
        });
        let surveyBox = d3.select("body").append("div").classed("surveyBox",true);
        surveyBox.append("p").classed("delete_surveybox",true).text("X").on("click",function(){
            d3.select(".surveyBack").remove();
            d3.select(".surveyBox").remove();
        });
        let embeddingBox = surveyBox.append("div").classed("embedding-box",true);
        embeddingBox.append("iframe").attr("src","/posts/terms/CopyofPaintingwithDataTermsofServiceDraft.html").classed("embedded",true)
    })

    d3.selectAll("#show-policy").on("click",function(){
        console.log("yyy");
        d3.select(".surveyBack").remove();
        d3.select(".surveyBox").remove();

        let surveyBack = d3.select("body").append("div").classed("surveyBack",true).on("click",function(){
            d3.select(".surveyBack").remove();
            d3.select(".surveyBox").remove();
        });
        let surveyBox = d3.select("body").append("div").classed("surveyBox",true);
        surveyBox.append("p").classed("delete_surveybox",true).text("X").on("click",function(){
            d3.select(".surveyBack").remove();
            d3.select(".surveyBox").remove();
        });
        let embeddingBox = surveyBox.append("div").classed("embedding-box",true);
        embeddingBox.append("iframe").attr("src","/posts/terms/CopyofPaintingwithDataPrivacyPolicyDraft.html").classed("embedded",true)
    })
